{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "c71b9113",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "얼마를 충전하시겠습니까? 50000\n",
      "얼마를 배팅 하시겠습니까?1\n",
      "\n",
      "\n",
      "현재 1회 배팅 중입니다. total: 49999\n",
      "구간분포 [0, 0, 0, 0, 0] 0.80% 뚫은것, 불균도 = 0.01\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 2회 배팅 중입니다. total: 49998\n",
      "구간분포 [0, 0, 0, 0, 0] 1.59% 뚫은것, 불균도 = 0.02\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 3회 배팅 중입니다. total: 49997\n",
      "구간분포 [0, 0, 0, 0, 0] 2.37% 뚫은것, 불균도 = 0.02\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 4회 배팅 중입니다. total: 49996\n",
      "구간분포 [0, 0, 0, 0, 0] 3.15% 뚫은것, 불균도 = 0.03\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 5회 배팅 중입니다. total: 49995\n",
      "구간분포 [0, 0, 0, 0, 0] 3.92% 뚫은것, 불균도 = 0.04\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 6회 배팅 중입니다. total: 49994\n",
      "구간분포 [0, 0, 0, 0, 0] 4.69% 뚫은것, 불균도 = 0.05\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 7회 배팅 중입니다. total: 49993\n",
      "구간분포 [0, 0, 0, 0, 0] 5.45% 뚫은것, 불균도 = 0.06\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 8회 배팅 중입니다. total: 49992\n",
      "구간분포 [0, 0, 0, 0, 0] 6.20% 뚫은것, 불균도 = 0.06\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 9회 배팅 중입니다. total: 49991\n",
      "구간분포 [0, 0, 0, 0, 0] 6.95% 뚫은것, 불균도 = 0.07\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 10회 배팅 중입니다. total: 49990\n",
      "구간분포 [0, 0, 0, 0, 0] 7.69% 뚫은것, 불균도 = 0.08\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 11회 배팅 중입니다. total: 49989\n",
      "구간분포 [0, 0, 0, 0, 0] 8.42% 뚫은것, 불균도 = 0.09\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 12회 배팅 중입니다. total: 49988\n",
      "구간분포 [0, 0, 0, 0, 0] 9.15% 뚫은것, 불균도 = 0.10\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 13회 배팅 중입니다. total: 49987\n",
      "구간분포 [0, 0, 0, 0, 0] 9.88% 뚫은것, 불균도 = 0.10\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 14회 배팅 중입니다. total: 49986\n",
      "구간분포 [0, 0, 0, 0, 0] 10.60% 뚫은것, 불균도 = 0.11\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 15회 배팅 중입니다. total: 49985\n",
      "구간분포 [0, 0, 0, 0, 0] 11.31% 뚫은것, 불균도 = 0.12\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 16회 배팅 중입니다. total: 49984\n",
      "구간분포 [0, 0, 0, 0, 0] 12.01% 뚫은것, 불균도 = 0.13\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 17회 배팅 중입니다. total: 49983\n",
      "구간분포 [0, 0, 0, 0, 0] 12.72% 뚫은것, 불균도 = 0.14\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 18회 배팅 중입니다. total: 49982\n",
      "구간분포 [0, 0, 0, 0, 0] 13.41% 뚫은것, 불균도 = 0.14\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 19회 배팅 중입니다. total: 49981\n",
      "구간분포 [0, 0, 0, 0, 0] 14.10% 뚫은것, 불균도 = 0.15\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 20회 배팅 중입니다. total: 49980\n",
      "구간분포 [0, 0, 0, 0, 0] 14.79% 뚫은것, 불균도 = 0.16\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 21회 배팅 중입니다. total: 49979\n",
      "구간분포 [0, 0, 0, 0, 0] 15.46% 뚫은것, 불균도 = 0.17\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 22회 배팅 중입니다. total: 49978\n",
      "구간분포 [0, 0, 0, 0, 0] 16.14% 뚫은것, 불균도 = 0.18\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 23회 배팅 중입니다. total: 49977\n",
      "구간분포 [0, 0, 0, 0, 0] 16.81% 뚫은것, 불균도 = 0.18\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 24회 배팅 중입니다. total: 49976\n",
      "구간분포 [0, 0, 0, 0, 0] 17.47% 뚫은것, 불균도 = 0.19\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 25회 배팅 중입니다. total: 49975\n",
      "구간분포 [0, 0, 0, 0, 0] 18.13% 뚫은것, 불균도 = 0.20\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 26회 배팅 중입니다. total: 49974\n",
      "구간분포 [0, 0, 0, 0, 0] 18.78% 뚫은것, 불균도 = 0.21\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 27회 배팅 중입니다. total: 49973\n",
      "구간분포 [0, 0, 0, 0, 0] 19.43% 뚫은것, 불균도 = 0.22\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 28회 배팅 중입니다. total: 49972\n",
      "구간분포 [0, 0, 0, 0, 0] 20.07% 뚫은것, 불균도 = 0.22\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 29회 배팅 중입니다. total: 49971\n",
      "구간분포 [0, 0, 0, 0, 0] 20.71% 뚫은것, 불균도 = 0.23\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 30회 배팅 중입니다. total: 49970\n",
      "구간분포 [0, 0, 0, 0, 0] 21.34% 뚫은것, 불균도 = 0.24\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 31회 배팅 중입니다. total: 49969\n",
      "구간분포 [0, 0, 0, 0, 0] 21.96% 뚫은것, 불균도 = 0.25\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 32회 배팅 중입니다. total: 49968\n",
      "구간분포 [0, 0, 0, 0, 0] 22.59% 뚫은것, 불균도 = 0.26\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 33회 배팅 중입니다. total: 49967\n",
      "구간분포 [0, 0, 0, 0, 0] 23.20% 뚫은것, 불균도 = 0.26\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "이야~ 대박!🧞‍♂️ 축하합니다! 잭팟입니다! total: 50077, 평균 = 33\n",
      "🧚 ‍ 🧚‍♀️️\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 1회 배팅 중입니다. total: 50076\n",
      "구간분포 [0, 1, 0, 0, 0] 0.80% 뚫은것, 불균도 = -0.73\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 2회 배팅 중입니다. total: 50075\n",
      "구간분포 [0, 1, 0, 0, 0] 1.59% 뚫은것, 불균도 = -0.72\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 3회 배팅 중입니다. total: 50074\n",
      "구간분포 [0, 1, 0, 0, 0] 2.37% 뚫은것, 불균도 = -0.71\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 4회 배팅 중입니다. total: 50073\n",
      "구간분포 [0, 1, 0, 0, 0] 3.15% 뚫은것, 불균도 = -0.70\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 5회 배팅 중입니다. total: 50072\n",
      "구간분포 [0, 1, 0, 0, 0] 3.92% 뚫은것, 불균도 = -0.70\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 6회 배팅 중입니다. total: 50071\n",
      "구간분포 [0, 1, 0, 0, 0] 4.69% 뚫은것, 불균도 = -0.69\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 7회 배팅 중입니다. total: 50070\n",
      "구간분포 [0, 1, 0, 0, 0] 5.45% 뚫은것, 불균도 = -0.68\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 8회 배팅 중입니다. total: 50069\n",
      "구간분포 [0, 1, 0, 0, 0] 6.20% 뚫은것, 불균도 = -0.67\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 9회 배팅 중입니다. total: 50068\n",
      "구간분포 [0, 1, 0, 0, 0] 6.95% 뚫은것, 불균도 = -0.66\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 10회 배팅 중입니다. total: 50067\n",
      "구간분포 [0, 1, 0, 0, 0] 7.69% 뚫은것, 불균도 = -0.66\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 11회 배팅 중입니다. total: 50066\n",
      "구간분포 [0, 1, 0, 0, 0] 8.42% 뚫은것, 불균도 = -0.65\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 12회 배팅 중입니다. total: 50065\n",
      "구간분포 [0, 1, 0, 0, 0] 9.15% 뚫은것, 불균도 = -0.64\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 13회 배팅 중입니다. total: 50064\n",
      "구간분포 [0, 1, 0, 0, 0] 9.88% 뚫은것, 불균도 = -0.63\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n",
      "얼마를 배팅 하시겠습니까?\n",
      "\n",
      "\n",
      "현재 14회 배팅 중입니다. total: 50063\n",
      "구간분포 [0, 1, 0, 0, 0] 10.60% 뚫은것, 불균도 = -0.62\n",
      "(1,28)(29,64)(65,115)(116,200)(201)\n"
     ]
    }
   ],
   "source": [
    "import random\n",
    "import math\n",
    "\n",
    "total = int(input(\"얼마를 충전하시겠습니까? \"))\n",
    "\n",
    "jackpot_num_list = []\n",
    "\n",
    "\n",
    "previous_betting = 0\n",
    "\n",
    "def make_jackpot_num():\n",
    "    jackpot_num = 1\n",
    "    while True:\n",
    "\n",
    "        num = random.randint(1, 125)\n",
    "        if num == 1:\n",
    "                    return jackpot_num\n",
    "        else:\n",
    "            jackpot_num += 1\n",
    "\n",
    "\n",
    "def slot_machine():\n",
    "    global total, previous_betting, jackpot_num_list\n",
    "\n",
    "    jackpot_num = make_jackpot_num()\n",
    "\n",
    "    play_num = 0\n",
    "\n",
    "    while True:\n",
    "        betting_str = input(\"얼마를 배팅 하시겠습니까?\")\n",
    "\n",
    "        if betting_str == '':\n",
    "            if previous_betting == 0:\n",
    "                print(\"이전 배팅 금액이 없습니다. 배팅 금액을 입력해주세요.\")\n",
    "                continue\n",
    "            else:\n",
    "                betting = previous_betting\n",
    "        else:\n",
    "            try:\n",
    "                betting = int(betting_str)\n",
    "                if betting <= 0:\n",
    "                    print(\"배팅 금액은 0보다 커야 합니다.\")\n",
    "                    continue\n",
    "            except ValueError:\n",
    "                print(\"유효한 배팅 금액을 입력해주세요.\")\n",
    "                continue\n",
    "\n",
    "        if betting > total:\n",
    "            print(\"배팅 금액이 잔액을 초과합니다.\")\n",
    "            continue\n",
    "\n",
    "        previous_betting = betting\n",
    "        play_num += 1\n",
    "        total -= betting\n",
    "        probability = (1-math.exp(-(play_num/125)))*100 # 포아송과 기하분포의 cdf로 계산된 확률\n",
    "        # 20% 기준으로 구간 설정하여 분포확인하기\n",
    "        intervals = [(1, 28), (29, 64), (65, 115), (116, 200), (200, 1200)]\n",
    "        # 마지막 5개 숫자 확인\n",
    "        last_five = jackpot_num_list[-5:]\n",
    "        # 각 구간에 속하는 숫자의 개수를 셈\n",
    "        interval_counts = [0] * len(intervals)  # 구간별 카운트를 0으로 초기화\n",
    "        for num in last_five:\n",
    "            for i, interval in enumerate(intervals):\n",
    "                if interval[0] <= num <= interval[1]:  # 숫자가 해당 구간에 속하는지 확인\n",
    "                    interval_counts[i] += 1\n",
    "                    break  # 해당 구간에 숫자가 속하면 다음 숫자로 넘어감\n",
    "        \n",
    "        print(\"\\n\")\n",
    "        print(f\"현재 {play_num}회 배팅 중입니다. total: {total}\")\n",
    "        print(f\"구간분포 {interval_counts} {probability:.2f}% 뚫은것, 불균도 = {(sum(jackpot_num_list)+play_num)/125-len(jackpot_num_list):.2f}\")\n",
    "        print(f\"(1,28)(29,64)(65,115)(116,200)(201)\")\n",
    "        #print(f\"이전 잭팟까지의 횟수 = {jackpot_num_list[-5:]}\")\n",
    "\n",
    "        if play_num == jackpot_num:\n",
    "            total += betting * 110\n",
    "            jackpot_num_list.append(play_num)\n",
    "            average = round(sum(jackpot_num_list) / len(jackpot_num_list))\n",
    "            print(f\"이야~ 대박!🧞‍♂️ 축하합니다! 잭팟입니다! total: {total}, 평균 = {average}\")\n",
    "            print(\"🧚 ‍ 🧚‍♀️️\")\n",
    "            break\n",
    "\n",
    "while True:\n",
    "    slot_machine()\n",
    "\n",
    "\n",
    "\n",
    "# while문을 아래에 배치하여 위 slot_machine함수의 while문이 break로 끝나고 함수를 나오면 다시 slot_machine함수가 실행될수있도록합니다.\n",
    "\n",
    "'''\n",
    "전역 변수(global variable)와 지역 변수(local variable)는 변수가 존재하는 범위(scope)가 다릅니다.\n",
    "\n",
    "전역 변수는 프로그램의 어디서든 접근할 수 있는 변수입니다. 함수 내부, 조건문, 반복문 등 프로그램의 어디서든지 그 값을 읽고 수정할 수 있습니다.\n",
    "지역 변수는 그 변수가 선언된 함수 또는 블록 내부에서만 접근할 수 있는 변수입니다. 함수 또는 블록이 실행될 때 생성되고, 실행이 종료되면 사라집니다.\n",
    "\n",
    "파이썬에서 함수 내에서 전역 변수를 사용하려면, 단순히 값을 읽는 경우에는 별도의 선언 없이 전역 변수를 참조할 수 있습니다.\n",
    "하지만 함수 내부에서 전역 변수의 값을 변경하려고 할 때는 global 키워드를 사용해서 해당 변수가 전역 변수임을 명시해야 합니다.\n",
    "그렇지 않으면 파이썬은 해당 이름의 새로운 지역 변수를 만들고, 전역 변수는 변경되지 않습니다.\n",
    "'''\n",
    "'''\n",
    "전역 변수를 함수 내부에서 단순히 읽기만 한다면 global 키워드 없이 직접 사용할 수 있습니다.\n",
    "그러나 함수 내에서 전역 변수의 값을 변경하고자 할 때는 global 키워드를 사용하여 해당 변수가 전역 범위에 있음을 명시해야 합니다.\n",
    "\n",
    "예를 들어, 전역 리스트에 아이템을 추가하는 것과 같은 조작은 global 키워드 없이 가능합니다. 리스트는 가변(mutable) 객체이므로, \n",
    "함수 내에서 리스트를 변경하는 것은 리스트 객체 자체를 변경하는 것이지 리스트의 참조를 변경(메모리에 할당된 리스트의 주소가 변경되는것은 아니라는뜻)하는 것이 아닙니다.\n",
    "'''\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "0d6178fe",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.9"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
